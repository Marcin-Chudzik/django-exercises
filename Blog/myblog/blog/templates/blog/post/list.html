{% extends "blog/base.html" %}
{% load static %}

{% block content %}
  {% if tag %}
  <label class="tags">Posts marked with tag "{{ tag.name }}"</label>
  {% endif %}

  {% for post in posts %}
  <div class="post">
    <div class="information-container">
      <div class="post--information">
        <a href="#" aria-label="profile account">
          <img class="profile-img" src="{% static 'blog_app/img/profile.png' %}" alt="profile-img">
        </a>
        <h3>{{ post.author.first_name }} {{ post.author.last_name }}</h3>
        <time>{{ post.publish|date:"d.m.Y" }}</time>
      </div>

      <div class="post--buttons">
        <button type="submit" class="btn--with--icon" name="like" value="1">
          <img src="{% static 'blog_app/img/like.png' %}" alt="like">
        </button>
        <strong>0</strong>
        <button type="button" class="btn--with--icon" id="comment-modal">
          <img src="{% static 'blog_app/img/comments.png' %}" alt="comment">
        </button>
        <strong>0</strong>
      </div>

      <div class="comments">
        <div class="comment">
          <div class="comment--information">
            <a href="#" aria-label="profile account">
              <img class="profile-img" src="{% static 'blog_app/img/profile.png' %}" alt="profile-img">
            </a>
            <h4>Marcin Chudzik</h4>
            <time>{{ post.publish|date:"d.m.Y" }}</time>
          </div>
          <p class="comment-content">
            Some comment content.
          </p>
        </div>
      </div>
    </div>

    <div class="content-container">
      <a href="{{ post.get_absolute_url }}">
        <h3>{{ post.title }}</h3>
      </a>
      <p class="post--content">
        Tags:
        {% for tag in post.tags.all %}
          <a href="{% url 'blog:post_list_by_tag' tag.slug %}">
            {{ tag.name }}
          </a>
          {% if not forloop.last %}, {% endif %}
        {% endfor %}
      </p>
      <p>
        <strong>{{ post.author.first_name }} {{ post.author.last_name }}</strong>
        posted on <time>{{ post.publish|date:"d.m.Y" }}</time>
      </p>
      {{ post.body|truncatewords:60|linebreaks }}
    </div>
  </div>
  {% endfor %}

  {% include "pagination.html" with page=posts %}
{% endblock %}